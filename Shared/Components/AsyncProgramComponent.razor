<h3>AsyncProgramComponent</h3>

@* <div>@FileText</div>

@code {
    private string? FileText = "hello";

    protected override async Task OnInitializedAsync()
    {
       // FileText = await ReadFileSynchronously();

        //await ReadFileAsynchronously();
    }

    public static async Task<string> ReadFileSynchronously()
    {
        // string fileName = "a.txt";
        // string content = File.ReadAllText($"{fileName}");
        // Console.WriteLine("Synchronous file read complete:");
        // Console.WriteLine(content);
        string fileName = "a.txt";
        using (HttpClient client = new HttpClient())
        {
            try
            {
                HttpResponseMessage response = await client.GetAsync($"https://localhost:7229/api/ReadFile/GetFileContent/{fileName}");
                response.EnsureSuccessStatusCode();
                string content = await response.Content.ReadAsStringAsync();
                return content;
            }
            catch (HttpRequestException ex)
            {
                Console.WriteLine($"Error reading file from server: {ex.Message}");
                return null;
            }
        }

    }

    public static async Task ReadFileAsynchronously()
    {
        string fileName = "a.txt";
        using (StreamReader reader = new StreamReader($"{fileName}"))
        {
            string content = await reader.ReadToEndAsync();
            Console.WriteLine("Asynchronous file read complete:");
            Console.WriteLine(content);
        }
    }
}
 *@